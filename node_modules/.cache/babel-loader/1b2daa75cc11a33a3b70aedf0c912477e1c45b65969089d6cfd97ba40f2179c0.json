{"ast":null,"code":"var _jsxFileName = \"/home/ds/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GitHub/nordic-admin-panel/src/components/product-detail/index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport './index.css';\nimport { Loader } from \"../loader\";\nimport productsJSON from '../../stub/products.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst savingRef = /*#__PURE__*/React.createRef();\n// class ProductDetail extends React.Component {\n//     constructor(){\n//         super();\n//         this.state = {\n//             data: productsJSON\n//         }\n//     }\n//     saveProduct(event){\n//         event.preventDefault()   \n//         const data = new FormData(savingRef.current)\n//         const file = data.get('IMG')\n//         //TODO: отправить запрос на сохранение файла а потом остальных данных\n//     }\n//     render() {\n//         const prId = window.location.pathname.replace('/products/', '')\n//         const data = this.state.data.find(item => item.ID == prId)\n//         return(\n//             <>\n//                 <article>\n//                         <h3>название: {data.TITLE}</h3>\n//                         <img src={data.IMG} />\n//                         <form ref={savingRef} encType=\"multipart/form-data\">\n//                             Название товара <input type=\"text\" name=\"TITLE\" defaultValue={data.TITLE}/><br></br>\n//                             Описание товара <input type=\"text\" name=\"DISCR\" defaultValue={data.DISCR} /><br></br>\n//                             Цена товара <input type=\"text\" name=\"PRICE\" defaultValue={data.PRICE}/><br></br>\n//                             Количество товара <input type=\"text\" name=\"COUNT\" defaultValue={data.COUNT}/><br></br>\n//                             Изображение товара <input type=\"file\" name=\"IMG\"/><br></br>\n//                             <input type=\"submit\" value=\"Сохранить\" onClick={(event) => (this.saveProduct(event))}/><br></br>\n//                         </form>\n//                 </article>\n//             </>\n//         )\n//     }\n// }\n\n// export default ProductDetail;\n\nexport function ProductDetail() {\n  _s();\n  const [product, setProduct] = useState(null);\n  const [products, setProducts] = useState(productsJSON);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    let product = products.find(item => item.ID == id);\n    setTimeout(() => setProduct(product), 1000);\n  }, []);\n  const saveProduct = event => {\n    event.preventDefault();\n    const data = new FormData(savingRef.current);\n    const img = data.get('IMG');\n    const title = data.get('TITLE');\n    const price = data.get('PRICE');\n    const count = data.get('COUNT');\n    const desc = data.get('DISCR');\n    products.find((item, i) => {\n      if (item.ID == id) {\n        products[i].TITLE = title;\n        products[i].PRICE = price;\n        products[i].COUNT = count;\n        products[i].DISCR = desc;\n        navigate(\"/products\", {\n          state: {\n            data: products\n          }\n        });\n      }\n    });\n    //TODO: отправить запрос на сохранение файла а потом остальных данных\n  };\n\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 16\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \", product.TITLE]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.IMG\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        ref: savingRef,\n        encType: \"multipart/form-data\",\n        children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"TITLE\",\n          defaultValue: product.TITLE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 99\n        }, this), \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"DISCR\",\n          defaultValue: product.DISCR\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 100\n        }, this), \"\\u0426\\u0435\\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"PRICE\",\n          defaultValue: product.PRICE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 95\n        }, this), \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"COUNT\",\n          defaultValue: product.COUNT\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 101\n        }, this), \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"IMG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 71\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n          onClick: event => saveProduct(event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 103\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(ProductDetail, \"ZM5LOpUJEApbJVD72BbHBQeaoqM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Loader","productsJSON","savingRef","createRef","ProductDetail","product","setProduct","products","setProducts","id","navigate","find","item","ID","setTimeout","saveProduct","event","preventDefault","data","FormData","current","img","get","title","price","count","desc","i","TITLE","PRICE","COUNT","DISCR","state","IMG"],"sources":["/home/ds/Рабочий стол/GitHub/nordic-admin-panel/src/components/product-detail/index.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\"; \n\nimport './index.css'\nimport { Loader } from \"../loader\";\nimport productsJSON from '../../stub/products.json'\n\n\nconst savingRef = React.createRef()\n// class ProductDetail extends React.Component {\n//     constructor(){\n//         super();\n//         this.state = {\n//             data: productsJSON\n//         }\n//     }\n//     saveProduct(event){\n//         event.preventDefault()   \n//         const data = new FormData(savingRef.current)\n//         const file = data.get('IMG')\n//         //TODO: отправить запрос на сохранение файла а потом остальных данных\n//     }\n//     render() {\n//         const prId = window.location.pathname.replace('/products/', '')\n//         const data = this.state.data.find(item => item.ID == prId)\n//         return(\n//             <>\n//                 <article>\n//                         <h3>название: {data.TITLE}</h3>\n//                         <img src={data.IMG} />\n//                         <form ref={savingRef} encType=\"multipart/form-data\">\n//                             Название товара <input type=\"text\" name=\"TITLE\" defaultValue={data.TITLE}/><br></br>\n//                             Описание товара <input type=\"text\" name=\"DISCR\" defaultValue={data.DISCR} /><br></br>\n//                             Цена товара <input type=\"text\" name=\"PRICE\" defaultValue={data.PRICE}/><br></br>\n//                             Количество товара <input type=\"text\" name=\"COUNT\" defaultValue={data.COUNT}/><br></br>\n//                             Изображение товара <input type=\"file\" name=\"IMG\"/><br></br>\n//                             <input type=\"submit\" value=\"Сохранить\" onClick={(event) => (this.saveProduct(event))}/><br></br>\n//                         </form>\n//                 </article>\n//             </>\n//         )\n//     }\n// }\n\n// export default ProductDetail;\n\nexport function ProductDetail() {\n    const [product, setProduct] = useState(null)\n    const [products, setProducts] = useState(productsJSON)\n    \n    const {id} = useParams()\n    const navigate = useNavigate()\n\n    useEffect(() => { \n        let product = products.find(item => item.ID == id)\n        setTimeout(() => setProduct(product), 1000)\n    }, [])\n\n    const saveProduct = (event) => {\n        event.preventDefault()   \n        const data = new FormData(savingRef.current)\n        const img = data.get('IMG')\n        const title = data.get('TITLE')\n        const price = data.get('PRICE')\n        const count = data.get('COUNT')\n        const desc = data.get('DISCR')\n\n        products.find((item, i) => {\n                if (item.ID == id) {\n                    products[i].TITLE = title\n                    products[i].PRICE = price\n                    products[i].COUNT = count\n                    products[i].DISCR = desc\n                    navigate(\"/products\", {\n                        state: {\n                            data: products\n                        }\n                    })\n                }\n            }\n        )\n        //TODO: отправить запрос на сохранение файла а потом остальных данных\n    }       \n    \n    if(!product){\n        return <Loader />\n    } else {\n        return (    \n            <article>\n                <h3>название: {product.TITLE}</h3>\n                <img src={product.IMG} />\n                <form ref={savingRef} encType=\"multipart/form-data\">\n                    Название товара <input type=\"text\" name=\"TITLE\" defaultValue={product.TITLE}/><br></br>\n                    Описание товара <input type=\"text\" name=\"DISCR\" defaultValue={product.DISCR} /><br></br>\n                    Цена товара <input type=\"text\" name=\"PRICE\" defaultValue={product.PRICE}/><br></br>\n                    Количество товара <input type=\"text\" name=\"COUNT\" defaultValue={product.COUNT}/><br></br>\n                    Изображение товара <input type=\"file\" name=\"IMG\"/><br></br>\n                    <input type=\"submit\" value=\"Сохранить\" onClick={(event) => (saveProduct(event))}/><br></br>\n                </form>\n            </article>\n        )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}